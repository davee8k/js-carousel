/**
 * jQuery Carousel | options - sameSize	boolean; all images have same size - load only one image to find content size
 * min jquery version 1.9+
 *
 * @author DaVee8k
 * @version 0.40.2
 * @license https://unlicense.org/
 */
!function(h){h.fn.carousel=function(i){var o=this;return this.item=void 0!==i.item?i.item:"a",this.arrowsClass=void 0!==i.arrowsClass?i.arrowsClass:"carousel-arrows",this.move=void 0!==i.move?i.move:1,this.pause=void 0!==i.pause?i.pause:null,this.speed=void 0!==i.speed?i.speed:2,this.endless=void 0!==i.endless&&i.endless,this.cssOnly=void 0!==i.cssOnly&&i.cssOnly,this.sameSize=void 0!==i.sameSize&&i.sameSize,this.rows=void 0!==i.rows?i.rows:1,this.vertical="vertical"===i.direction,this.way=this.vertical?"top":"left",this.wayFill=this.vertical?"bottom":"right",this.elmArrow=null,this.elmPager=null,this.size=0,this.viewSize=0,this.count=0,this.borderTolerance=20,this.imgFix=0,this.timer=null,this.isSwiping=!1,this.position=null,this.init=function(i){this.viewSize=this.vertical?h(this).height():h(this).width(),this.count=Math.ceil(h(this).find(this.item).not(".carousel-endless-box "+this.item).length/this.rows);var t=h(this).find(this.item).find("img").not(".carousel-endless-box "+this.item+" img");return 0<h(t).length?this.loadImages(i?h(t).first():h(t).slice(0,this.count)):this.continueInit(i),1<this.count},this.loadImages=function(i,t){var s=0,e=h(i).length;h(i).each(function(){var i=new Image;h(i).one("load error",function(){++s>=e&&o.continueInit(t)}).attr("src",h(this).data("src")||h(this).attr("src"))})},this.continueInit=function(i){if(this.size=0,i)this.size=this.getItemSize(h(this).find(this.item).first())*this.count;else{var t=h(this).find(this.item).slice(0,this.count).get();if(t)for(var s in t)this.size+=this.getItemSize(t[s])}this.finishInit()},this.finishInit=function(){if(this.endless){var i=h(this).children(),t=Math.max(1,Math.ceil(Math.floor(this.viewSize)/Math.ceil(this.size)));if(0===h(i).children(".carousel-endless-box").length&&t!==1/0){var s=h(i).html();h(i).append('<div class="carousel-endless-box carousel-endless-pre">'),h(i).append('<div class="carousel-endless-box carousel-endless-post">');for(var e=0;e<t;e++)h(i).children(".carousel-endless-pre").append(s),h(i).children(".carousel-endless-post").append(s)}h(i).children(".carousel-endless-pre").css(this.way,-(t*this.size)+"px").css(this.wayFill,t*this.size+"px"),h(i).children(".carousel-endless-post").css(this.way,this.size+"px").css(this.wayFill,-this.size+"px")}this.toggleArrows()},this.createArrows=function(i,t){i&&0!==h("#"+i).length?i&&(this.elmArrow=h("#"+i)):(this.elmArrow=h("<div"+(i?' id="'+i+'"':"")+' class="'+t+'" aria-hidden="true"><button class="'+t+'-left" tabindex="-1"></button><button class="'+t+'-right" tabindex="-1"></button></div>'),h(this).after(this.elmArrow)),h(this.elmArrow).find("."+t+"-left").click(function(i){i.preventDefault(),o.showNext(!1)}),h(this.elmArrow).find("."+t+"-right").click(function(i){i.preventDefault(),o.showNext(!0)}),this.toggleArrows()},this.createPager=function(i,t,s){var e=Math.ceil(this.count/s);if(i&&0!==h("#"+i).length)i&&(this.elmPager=h("#"+i));else{this.elmPager=h("<div"+(i?' id="'+i+'"':"")+(t?' class="'+t+'"':"")+' aria-hidden="true"></div>');for(var n=0;n<e;n++)h(this.elmPager).append('<button type="button" data-item-no="'+(n+1)+'" tabindex="-1"></button>');h(this.elmPager).children("button:first-child").addClass("active"),h(this).after(this.elmPager)}h(this.elmPager).find("button").click(function(i){i.preventDefault();i=Number.parseInt(h(this).data("item-no"))-1;h(o.elmPager).children("button").removeClass("active"),h(this).addClass("active"),o.showNum(i*s)}),this.initPause(this.elmPager)},this.toggleArrows=function(){var i;this.endless||null===this.elmArrow||(i=Math.round(this.getPosition(h(this).children())),h(this.elmArrow).find("button").removeClass("disabled"),0<=i&&h(this.elmArrow).find("."+this.arrowsClass+"-left").addClass("disabled"),this.viewSize-i>=this.size&&h(this.elmArrow).find("."+this.arrowsClass+"-right").addClass("disabled"))},this.initPause=function(i){this.pause&&h(i).hover(function(){o.timer.pause()},function(){o.timer.play()})},this.animateTo=function(i,t,s,e){this.cssOnly||!0===e?(h(i).css(this.way,t+"px").css(this.wayFill,-t+"px"),setTimeout(function(){o.toggleArrows()},200)):((e={})[this.way]=t+"px",e[this.wayFill]=-t+"px",h(i).animate(e,o.speed*Math.abs(-t+s),function(){o.toggleArrows()}))},this.showNext=function(i){var t=h(this).children();h(t).finish();var s,e=0;e=parseInt(this.move)===this.move?this.getItemSize(this.findFirstVisible(i))*this.move:0<this.move.indexOf("%")?(s=parseFloat(this.move.replace(/[^\d.]/g,"")),this.viewSize*s/100):this.move,this.tryMove(t,i?e:-e,!1)},this.tryMove=function(i,t,s){var e=0,n=this.getPosition(i);this.endless&&(t<0&&0<n?(n-=Math.ceil(n/this.size)*this.size,this.animateTo(i,n,0,!0)):0<t&&n-t<=-this.size&&(n-=Math.floor(n/this.size)*this.size,this.animateTo(i,n,0,!0))),0<t?e=this.endless||-n+t+this.viewSize<this.size-this.borderTolerance?n-t:-this.size+this.viewSize:(this.endless||n-t<-this.borderTolerance)&&(e=n-t),(this.endless||e<=0)&&this.animateTo(i,e,n,s),this.timer&&this.timer.restart()},this.showNum=function(i){if(0<i&&(i-=this.imgFix),i>=this.count)return!1;var t=0,s=this.getPosition(h(this).children());return this.size>this.viewSize&&(i=this.getPosition(h(this).find(this.item)[i]),this.size<i+this.viewSize/2?t=-this.size+this.viewSize:this.viewSize/2<i&&(t=this.viewSize/2-i)),this.animateTo(h(this).children(),t,s),!0},this.getPosition=function(i){return Math.round(h(i).position()[this.way])},this.getItemSize=function(i){return this.vertical?h(i).outerHeight(!0):h(i).outerWidth(!0)},this.findFirstVisible=function(i){for(var t=Math.abs(this.getPosition(h(this).children())),s=h(this).find(this.item),e=0;e<s.length;e++)if(t<=Math.ceil(this.getPosition(h(s).eq(e))))return h(s).eq(e);return h(s).eq(i?0:this.count-1)},this.init(this.sameSize)&&(void 0!==i.arrows&&!1===i.arrows||this.createArrows("boolean"==typeof i.arrows?"":i.arrows,this.arrowsClass),void 0!==i.pager&&!1!==i.pager&&this.createPager("boolean"==typeof i.pager?"":i.pager,void 0!==i.pagerClass?i.pagerClass:null,void 0!==i.perPage?i.perPage:1),this.pause&&(this.timer=new Timer(function(){o.showNext(!0)},this.pause),this.initPause(this)),h(window).resize(function(){o.init(o.sameSize),o.viewSize-o.getPosition(h(o).children())>o.size&&o.animateTo(h(o).children(),o.viewSize>o.size?0:o.viewSize-o.size,0,!0),o.toggleArrows()})),!(this.getEventPosition=function(i){return window.TouchEvent&&i.originalEvent instanceof TouchEvent&&(i=i.originalEvent.touches[0]),"top"===this.way?i.clientY:i.clientX})!==i.swipe&&(h(this).on("dragstart",function(i){i.preventDefault()}),h(this).on("touchstart mousedown",function(i){h(o).children().addClass("carousel-nomination"),o.isSwiping=!1,o.position=o.getEventPosition(i)}),h(this).on("touchmove mousemove",function(i){var t;o.position&&!1!==o.position&&(t=o.position,o.isSwiping=!0,o.position=o.getEventPosition(i),o.tryMove(h(this).children(),t-o.position,!0))}),h(this).on("touchend mouseup mouseleave",function(i){h(o).children().removeClass("carousel-nomination"),o.position=null}),h(this).on("click",function(i){o.isSwiping&&i.preventDefault()})),{getCount:function(){return o.count},pause:function(){o.pause&&o.timer.pause()},play:function(){o.pause&&o.timer.play()},showNum:function(i){o.showNum(i)},showNext:function(i){o.showNext(i)}}}}(jQuery);
